<app-modif></app-modif>

<div class=" row">
  <div class="col-sm">
      <h2 class="h2">Ajouter voiture</h2>
    <br>
    <form [formGroup]="snapForm">
      <div class="container ">

        <label class="">Color:</label>
        <input type="text" formControlName="color" required class="form-control"/>
        <br>
        <label>Wheels:</label>
        <input type="text" formControlName="wheels" required class="form-control"/>
        <br>

        <label for="what3words1">what3words address :</label>
        <what3words-autosuggest strict="false" api_key="DSC4SN4O">
          <input type="text" id="what3words1" name="what3words1" class="form-control" #box formControlName="location"/>
        </what3words-autosuggest>
        <br>
        <button type="submit" (click)="formSubmit(box.value)" [disabled]="snapForm.invalid" class="btn">Ajouter</button>

      </div>
    </form>
  </div>

  <div class="col-sm">
    <h2 class="h2">Modifier localisation</h2>
    <br>
    <form [formGroup]="snapForm2">
      <div class="container ">

        <label class="">id:</label>
        <input type="text" formControlName="id" required class="form-control"/>
        <br>
        <label for="what3words1">what3words address :</label>
        <what3words-autosuggest strict="false" api_key="DSC4SN4O">
          <input type="text" id="what3words2" name="what3words2" class="form-control" #box2 formControlName="location"/>
        </what3words-autosuggest>
        <br>
        <button type="submit" (click)="formSubmit2(box2.value)" [disabled]="snapForm2.invalid" class="btn">Modifier</button>

      </div>
    </form>
  </div>

  <div class="col-sm">
    <h2 class="h2">Delete voiture</h2>
    <br>
    <form [formGroup]="snapForm3">
      <div class="container ">

        <label class="">id:</label>
        <input type="text" formControlName="id" required class="form-control"/>
        <br>
        <button type="submit" (click)="formSubmit3()" [disabled]="snapForm3.invalid" class="btn">Supprimer</button>

      </div>
    </form>
  </div>
</div>
<br>

<div class="m-3">
  <h4>Show/Hide all voitures</h4>
  <br>
  <button class="btn {{buttonState}}" (click)="toggle()">{{buttonShow}}</button>
</div>

<table mat-table [dataSource]="voitures" class="table toggle" *ngIf="show">
  <caption>All voitures in database</caption>

  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> Id </th>
    <td mat-cell *matCellDef="let elem"> {{elem.id}} </td>
  </ng-container>

  <ng-container matColumnDef="color">
    <th mat-header-cell *matHeaderCellDef> Color </th>
    <td mat-cell *matCellDef="let elem"> {{elem.color}} </td>
  </ng-container>

  <ng-container matColumnDef="location">
    <th mat-header-cell *matHeaderCellDef> Location </th>
    <td mat-cell *matCellDef="let elem"><a href="{{elem.map}}" target="_blank">{{elem.location}}</a> </td>
  </ng-container>

  <ng-container matColumnDef="wheels">
    <th mat-header-cell *matHeaderCellDef> Wheels </th>
    <td mat-cell *matCellDef="let elem">{{elem.wheels}}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
<div id="target"></div>
